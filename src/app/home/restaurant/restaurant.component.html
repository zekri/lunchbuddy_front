<div class="bgloader" *ngIf="loader">
  <div style="background-color: black; opacity: 0.2; width: 100%; height: 100%; position: absolute; z-index: 9999"></div>
  <mat-progress-bar mode="indeterminate" color="#3c8dbc" style="background-color: #3c8dbc;height: 3px; z-index: 9999;opacity: 0.5"></mat-progress-bar>
</div>
<div class="bgdiv" >
  <mat-tab-group style="flex: 1;background-color: #fff;  border-radius: 7px;height: 100%" (selectedTabChange)="tabChanged($event)">

    <mat-tab label="Global">
      <div style="width: 100%; height: 100%!important;overflow: auto;padding: 4px">
        <ag-grid-angular
          #agGrid
          style="width: 100%; height: 100%;border-radius: 5px"
          id="myGrid"
          class="ag-theme-alpine"
          [columnDefs]="columnDefs"
          [defaultColDef]="defaultColDef"
          [suppressRowClickSelection]="true"
          [groupSelectsChildren]="true"
          [debug]="true"
          [rowSelection]="rowSelection"
          [rowGroupPanelShow]="rowGroupPanelShow"
          [pivotPanelShow]="pivotPanelShow"
          [enableRangeSelection]="true"
          [rowData]="rowData"
          [rowHeight]="40"
          [suppressMenuHide]="true"
          [paginationAutoPageSize]="false"
          [pagination]="true"
          [frameworkComponents]="frameworkComponents"
          (gridReady)="onGridReady($event)"

        ></ag-grid-angular>
      </div>
    </mat-tab>
    <mat-tab label="Map" *ngIf="singleton.checkRole(15)">
      <div style="width: 100%; height: 100%;overflow: auto;padding-left: 5px; padding-top: 5px; padding-right: 5px">
        <div id="map"  class="map"
        >
        </div>
        <div *ngIf="rowData" style="width:250px; height: calc(100vh - 180px); background-color: rgba(255, 255, 255, 0.5); position: absolute;top: 10px;
    right: 10px;z-index: 9999;float: right;border-radius: 10px 10px 10px 10px;margin-right: 7px; margin-top: 7px ">
          <input (change)="findCamping($event)" type="text" placeholder="Search ..." style="background-color: white;margin: 10px 10px 10px 10px; border-radius: 10px; width: 220px; padding: 10px;padding-left: 30px" />
          <mat-icon style="position: inherit;left: 20px;top: 15px;font-size: 17px;color: gray">search</mat-icon>
          <div style=" height: calc(100vh - 250px);overflow-y: auto; overflow-x: hidden; padding-bottom: 10px">
            <div *ngFor="let item of displayList"  >
              <div  (click)="callMarkerPop(item)" style="background-color: white;margin: 10px 10px 10px 10px; border-radius: 10px; width: 220px; padding: 10px;cursor: pointer ">

                <div style="font-size: 18px; float: left">
                  <div style="font-size: 12px;font-weight: 600;"
                  >{{item.name}}</div></div>
                <div style="font-size: 12px; float: left; width: 100%">{{item.cityName}}</div>
                <div style="width:200px; display: inline-block; line-height: 5px">
                  <div style="display: flex; flex-direction: row">
                    <div *ngFor="let starts of counter(5) ;let i = index" >
                      <img *ngIf="i+1 <= item.rate" src="assets/staractive.png"  style="width:10px; "/>
                      <img *ngIf="i+1 > item.rate" src="assets/starnoactive.png" style="width:10px;"/>
                    </div>
                  </div>


                </div>
              </div>
            </div>
          </div>


        </div>
      </div>
    </mat-tab>

  </mat-tab-group>
</div>
